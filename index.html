<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>고객의 소리(VOC) 설문</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <!-- Babel (JSX 변환용) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif; }
    </style>
</head>
<body class="bg-gray-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- 아이콘 컴포넌트 (Lucide React 대체) ---
        const IconBase = ({ children, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Stethoscope = ({ className }) => <IconBase className={className}><path d="M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3" /><path d="M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4" /><circle cx="20" cy="10" r="2" /></IconBase>;
        const User = ({ className }) => <IconBase className={className}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" /><circle cx="12" cy="7" r="4" /></IconBase>;
        const Calendar = ({ className }) => <IconBase className={className}><rect x="3" y="4" width="18" height="18" rx="2" ry="2" /><line x1="16" y1="2" x2="16" y2="6" /><line x1="8" y1="2" x2="8" y2="6" /><line x1="3" y1="10" x2="21" y2="10" /></IconBase>;
        const Activity = ({ className }) => <IconBase className={className}><polyline points="22 12 18 12 15 21 9 3 6 12 2 12" /></IconBase>;
        const Heart = ({ className }) => <IconBase className={className}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" /></IconBase>;
        const MessageSquare = ({ className }) => <IconBase className={className}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" /></IconBase>;
        const CheckCircle = ({ className }) => <IconBase className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" /><polyline points="22 4 12 14.01 9 11.01" /></IconBase>;
        const Building = ({ className }) => <IconBase className={className}><rect x="4" y="2" width="16" height="20" rx="2" ry="2" /><line x1="9" y1="22" x2="9" y2="12" /><line x1="15" y1="12" x2="15" y2="22" /><line x1="4" y1="12" x2="20" y2="12" /></IconBase>;

        // --- 메인 애플리케이션 ---
        const VoiceOfCustomerApp = () => {
            const [submitted, setSubmitted] = useState(false);
            const [formData, setFormData] = useState({
                // 기본 정보
                visitPurpose: '',
                visitType: '',
                visitChannel: '',
                painArea: [],
                respondentType: '',
                department: '',
                
                // 1. 접수/예약
                receptionConvenience: null,
                waitTimeAppropriate: null,
                painConsideration: null,
                receptionFeedback: '',

                // 2. 진료/수술
                doctorExplanation: null,
                testExplanation: null,
                trustLevel: null,
                painReduction: null,
                expectationMet: '', 
                expectationReason: '',
                treatmentFeedback: '',

                // 3. 간호/입원
                nurseAttitude: null,
                painResponseSpeed: null,
                rehabGuidance: null,
                dischargeGuidance: null,
                complimentStaff: '',

                // 4. 보호자
                guardianExplanation: null,
                visitationCare: null,
                guardianWaitingArea: null,

                // 5. 시설
                cleanliness: null,
                parkingAccess: null,

                // 종합
                overallSatisfaction: null, 
                npsScore: null, 
                revisitIntention: '', 
                revisitReason: ''
            });

            const handleInputChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            const handleMultiSelect = (field, value) => {
                setFormData(prev => {
                const current = prev[field] || [];
                if (current.includes(value)) {
                    return { ...prev, [field]: current.filter(item => item !== value) };
                } else {
                    return { ...prev, [field]: [...current, value] };
                }
                });
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                console.log("설문 데이터:", formData);
                // 실제 배포 시에는 여기에 fetch나 axios를 사용해 서버로 데이터를 전송합니다.
                
                // 전송 성공 시뮬레이션
                setTimeout(() => setSubmitted(true), 800);
            };

            if (submitted) {
                return (
                <div className="min-h-screen bg-teal-50 flex items-center justify-center p-4 font-sans">
                    <div className="bg-white p-8 rounded-2xl shadow-xl max-w-md w-full text-center">
                    <div className="w-20 h-20 bg-teal-100 rounded-full flex items-center justify-center mx-auto mb-6">
                        <CheckCircle className="w-10 h-10 text-teal-600" />
                    </div>
                    <h2 className="text-2xl font-bold text-gray-800 mb-2">소중한 의견 감사합니다</h2>
                    <p className="text-gray-600 mb-6">
                        고객님의 의견을 바탕으로<br />
                        더 나은 의료 서비스를 제공하겠습니다.
                    </p>
                    <button 
                        onClick={() => window.location.reload()}
                        className="bg-teal-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-teal-700 transition-colors w-full"
                    >
                        처음으로 돌아가기
                    </button>
                    </div>
                </div>
                );
            }

            // 재사용 가능한 컴포넌트들
            const SectionTitle = ({ icon: Icon, title, desc }) => (
                <div className="mb-6 border-b pb-4 border-gray-100">
                <div className="flex items-center gap-2 mb-1">
                    <Icon className="w-6 h-6 text-teal-600" />
                    <h3 className="text-xl font-bold text-gray-800">{title}</h3>
                </div>
                {desc && <p className="text-sm text-gray-500 ml-8">{desc}</p>}
                </div>
            );

            const RadioGroup = ({ label, field, options, gridCols = 2 }) => (
                <div className="mb-6">
                <label className="block text-sm font-semibold text-gray-700 mb-3">{label}</label>
                <div className={`grid grid-cols-${gridCols} gap-3`}>
                    {options.map((option) => (
                    <button
                        key={option}
                        type="button"
                        onClick={() => handleInputChange(field, option)}
                        className={`p-3 rounded-lg border text-sm font-medium transition-all ${
                        formData[field] === option
                            ? 'bg-teal-600 text-white border-teal-600 shadow-md'
                            : 'bg-white text-gray-600 border-gray-200 hover:bg-gray-50'
                        }`}
                    >
                        {option}
                    </button>
                    ))}
                </div>
                </div>
            );

            const CheckboxGroup = ({ label, field, options }) => (
                <div className="mb-6">
                <label className="block text-sm font-semibold text-gray-700 mb-3">{label} (중복 가능)</label>
                <div className="grid grid-cols-3 gap-3">
                    {options.map((option) => (
                    <button
                        key={option}
                        type="button"
                        onClick={() => handleMultiSelect(field, option)}
                        className={`p-3 rounded-lg border text-sm font-medium transition-all ${
                        formData[field]?.includes(option)
                            ? 'bg-teal-100 text-teal-800 border-teal-300'
                            : 'bg-white text-gray-600 border-gray-200 hover:bg-gray-50'
                        }`}
                    >
                        {option}
                    </button>
                    ))}
                </div>
                </div>
            );

            const LikertScale = ({ label, field, minText = "매우 불만", maxText = "매우 만족" }) => (
                <div className="mb-8 p-4 bg-gray-50 rounded-xl">
                <label className="block text-sm font-semibold text-gray-800 mb-4">{label}</label>
                <div className="flex justify-between items-center mb-2 px-1">
                    <span className="text-xs text-gray-500 font-medium">{minText}</span>
                    <span className="text-xs text-gray-500 font-medium">{maxText}</span>
                </div>
                <div className="flex justify-between gap-1">
                    {[1, 2, 3, 4, 5].map((score) => (
                    <button
                        key={score}
                        type="button"
                        onClick={() => handleInputChange(field, score)}
                        className={`flex-1 h-12 rounded-lg flex items-center justify-center text-lg font-bold transition-all ${
                        formData[field] === score
                            ? 'bg-teal-600 text-white shadow-lg scale-105'
                            : 'bg-white text-gray-400 border border-gray-200 hover:border-teal-300'
                        }`}
                    >
                        {score}
                    </button>
                    ))}
                </div>
                </div>
            );

            const TextArea = ({ label, field, placeholder }) => (
                <div className="mb-6">
                <label className="block text-sm font-semibold text-gray-700 mb-2">{label}</label>
                <textarea
                    value={formData[field]}
                    onChange={(e) => handleInputChange(field, e.target.value)}
                    placeholder={placeholder}
                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none min-h-[100px] text-sm resize-none"
                />
                </div>
            );

            return (
                <div className="min-h-screen bg-gray-100 py-8 px-4 font-sans">
                <div className="max-w-2xl mx-auto">
                    {/* Header */}
                    <header className="bg-white rounded-t-2xl p-8 border-b-4 border-teal-600 shadow-sm mb-6">
                    <h1 className="text-2xl font-bold text-gray-900 mb-2">고객의 소리(VOC) 설문</h1>
                    <p className="text-gray-600 text-sm leading-relaxed">
                        귀하의 소중한 의견은 더 나은 진료 환경을 만드는 데 큰 도움이 됩니다.<br/>
                        응답해주신 내용은 서비스 개선 자료로만 활용됩니다.
                    </p>
                    </header>

                    <form onSubmit={handleSubmit} className="space-y-6">
                    
                    {/* 기본 정보 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm">
                        <SectionTitle icon={User} title="기본 정보" desc="정확한 분석을 위해 선택해주세요." />
                        
                        <RadioGroup 
                        label="방문 목적" 
                        field="visitPurpose" 
                        options={["외래", "입원", "응급", "건강검진", "기타"]} 
                        gridCols={3}
                        />
                        <div className="grid grid-cols-2 gap-4">
                        <RadioGroup label="방문 형태" field="visitType" options={["처음방문", "재방문"]} gridCols={1} />
                        <RadioGroup label="응답자 유형" field="respondentType" options={["환자", "보호자"]} gridCols={1} />
                        </div>
                        
                        <RadioGroup 
                        label="병원 방문 경로" 
                        field="visitChannel" 
                        options={["지인 추천", "광고/홍보", "입소문", "인터넷 검색", "기타"]} 
                        gridCols={2}
                        />
                        
                        <CheckboxGroup 
                        label="통증 부위 (해당사항 모두 선택)" 
                        field="painArea" 
                        options={["허리", "무릎", "어깨", "손/손목", "발/발목", "목"]} 
                        />

                        <div className="mb-4">
                        <label className="block text-sm font-semibold text-gray-700 mb-2">방문 진료과</label>
                        <input 
                            type="text" 
                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none"
                            placeholder="예: 정형외과, 신경외과"
                            value={formData.department}
                            onChange={(e) => handleInputChange('department', e.target.value)}
                        />
                        </div>
                    </div>

                    {/* 1. 접수/예약 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm">
                        <SectionTitle icon={Calendar} title="접수·예약" desc="첫 신뢰 형성 단계" />
                        
                        <LikertScale label="① 예약 및 접수 과정이 편리했습니까?" field="receptionConvenience" minText="매우 불편" maxText="매우 편리" />
                        <LikertScale label="② 대기 시간은 적절했습니까?" field="waitTimeAppropriate" minText="매우 길다" maxText="매우 적절" />
                        <LikertScale label="③ 통증 환자에 대한 배려(의자, 안내 등)가 있었습니까?" field="painConsideration" minText="전혀 없음" maxText="매우 세심함" />
                        <TextArea label="④ 좋았던 점 / 개선이 필요한 점" field="receptionFeedback" placeholder="자유롭게 기술해주세요." />
                    </div>

                    {/* 2. 진료/수술 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm">
                        <SectionTitle icon={Stethoscope} title="진료·수술 설명" desc="전문성 및 안심 경험" />
                        
                        <LikertScale label="① 의사의 설명은 이해하기 쉬웠습니까?" field="doctorExplanation" minText="매우 어려움" maxText="매우 명확" />
                        <LikertScale label="② 검사 결과(MRI/X-ray) 설명은 충분했습니까?" field="testExplanation" minText="부족함" maxText="매우 충분" />
                        <LikertScale label="③ 수술/치료 계획에 대한 신뢰도가 높았습니까?" field="trustLevel" minText="신뢰 어려움" maxText="매우 신뢰" />
                        <LikertScale label="④ 치료 후 통증 감소를 체감하셨습니까?" field="painReduction" minText="전혀 없음" maxText="매우 개선됨" />
                        
                        <div className="mb-6 p-4 bg-teal-50 rounded-xl">
                        <label className="block text-sm font-semibold text-gray-800 mb-3">⑤ 이번 치료가 기대에 부합했습니까?</label>
                        <div className="flex gap-4 mb-3">
                            {['예', '아니오'].map(opt => (
                            <button
                                key={opt}
                                type="button"
                                onClick={() => handleInputChange('expectationMet', opt)}
                                className={`flex-1 py-2 rounded-lg border ${formData.expectationMet === opt ? 'bg-teal-600 text-white border-teal-600' : 'bg-white text-gray-700 border-gray-300'}`}
                            >
                                {opt}
                            </button>
                            ))}
                        </div>
                        <input 
                            type="text" 
                            placeholder="이유를 간단히 적어주세요"
                            className="w-full p-2 border border-gray-300 rounded-md text-sm"
                            value={formData.expectationReason}
                            onChange={(e) => handleInputChange('expectationReason', e.target.value)}
                        />
                        </div>

                        <TextArea label="⑥ 인상 깊었던 점 / 실망한 점" field="treatmentFeedback" placeholder="구체적인 경험을 들려주세요." />
                    </div>

                    {/* 3. 간호/입원 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm">
                        <SectionTitle icon={Heart} title="간호·입원·재활" desc="회복 경험" />
                        
                        <LikertScale label="① 간호사의 태도와 배려는 어떠했습니까?" field="nurseAttitude" minText="무성의함" maxText="가족처럼 따뜻함" />
                        <LikertScale label="② 통증 관리에 대한 대응은 신속했습니까?" field="painResponseSpeed" minText="매우 느림" maxText="매우 신속" />
                        <LikertScale label="③ 재활·물리치료 안내는 체계적이었습니까?" field="rehabGuidance" minText="매우 부족" maxText="매우 체계적" />
                        <LikertScale label="④ 퇴원 후 관리 안내는 충분했습니까?" field="dischargeGuidance" minText="부족함" maxText="매우 충분" />
                        <TextArea label="⑤ 칭찬하고 싶은 직원/부서" field="complimentStaff" placeholder="이름 또는 부서를 적어주세요." />
                    </div>

                    {/* 4. 보호자 경험 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm">
                        <SectionTitle icon={User} title="보호자 경험" desc="보호자 만족도" />
                        
                        <LikertScale label="① 보호자에 대한 안내 및 설명은 충분했습니까?" field="guardianExplanation" minText="매우 부족" maxText="매우 충분" />
                        <LikertScale label="② 면회 및 상담 과정에서 배려받았습니까?" field="visitationCare" minText="불편함" maxText="매우 배려 깊음" />
                        <LikertScale label="③ 보호자 대기 공간은 편리했습니까?" field="guardianWaitingArea" minText="매우 불편" maxText="매우 편리" />
                    </div>

                    {/* 5. 시설/편의 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm">
                        <SectionTitle icon={Building} title="시설·편의" />
                        
                        <LikertScale label="① 병실 청결 및 시설 상태" field="cleanliness" minText="매우 불량" maxText="매우 청결" />
                        <LikertScale label="② 주차 및 병원 접근성" field="parkingAccess" minText="매우 불편" maxText="매우 편리" />
                    </div>

                    {/* 종합 평가 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm border-2 border-teal-100">
                        <SectionTitle icon={Activity} title="종합 평가" desc="최종 만족도 조사" />
                        
                        <div className="mb-8">
                        <label className="block text-sm font-bold text-gray-800 mb-4">① 전체적인 만족도를 점수로 평가해주세요 (10점 만점)</label>
                        <div className="flex justify-between gap-1 overflow-x-auto pb-2">
                            {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((score) => (
                            <button
                                key={score}
                                type="button"
                                onClick={() => handleInputChange('overallSatisfaction', score)}
                                className={`flex-shrink-0 w-8 h-10 sm:w-10 sm:h-12 rounded-md flex items-center justify-center text-sm sm:text-lg font-bold transition-all ${
                                formData.overallSatisfaction === score
                                    ? 'bg-teal-600 text-white shadow-lg -translate-y-1'
                                    : 'bg-white text-gray-500 border border-gray-200 hover:bg-teal-50'
                                }`}
                            >
                                {score}
                            </button>
                            ))}
                        </div>
                        </div>

                        <div className="mb-8">
                        <label className="block text-sm font-bold text-gray-800 mb-4">② 이 병원을 주변 지인에게 추천하시겠습니까? (NPS)</label>
                        <div className="flex justify-between gap-1 overflow-x-auto pb-2">
                            {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((score) => (
                            <button
                                key={score}
                                type="button"
                                onClick={() => handleInputChange('npsScore', score)}
                                className={`flex-shrink-0 w-8 h-10 sm:w-10 sm:h-12 rounded-md flex items-center justify-center text-sm sm:text-lg font-bold transition-all ${
                                formData.npsScore === score
                                    ? 'bg-blue-600 text-white shadow-lg -translate-y-1'
                                    : 'bg-white text-gray-500 border border-gray-200 hover:bg-blue-50'
                                }`}
                            >
                                {score}
                            </button>
                            ))}
                        </div>
                        <div className="flex justify-between text-xs text-gray-400 mt-1 px-1">
                            <span>절대 추천 안함</span>
                            <span>적극 추천</span>
                        </div>
                        </div>

                        <div className="mb-4">
                        <label className="block text-sm font-bold text-gray-800 mb-3">③ 향후 다시 방문할 의향이 있으십니까?</label>
                        <div className="flex gap-4 mb-3">
                            {['예', '아니오'].map(opt => (
                            <button
                                key={opt}
                                type="button"
                                onClick={() => handleInputChange('revisitIntention', opt)}
                                className={`flex-1 py-3 rounded-lg border font-medium ${formData.revisitIntention === opt ? 'bg-teal-600 text-white border-teal-600' : 'bg-white text-gray-700 border-gray-300'}`}
                            >
                                {opt}
                            </button>
                            ))}
                        </div>
                        <input 
                            type="text" 
                            placeholder="이유를 간단히 적어주세요 (선택사항)"
                            className="w-full p-3 border border-gray-300 rounded-lg text-sm"
                            value={formData.revisitReason}
                            onChange={(e) => handleInputChange('revisitReason', e.target.value)}
                        />
                        </div>
                    </div>

                    <button
                        type="submit"
                        className="w-full bg-teal-700 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:bg-teal-800 transition-colors flex items-center justify-center gap-2"
                    >
                        <MessageSquare className="w-5 h-5" />
                        설문 제출하기
                    </button>
                    </form>
                </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<VoiceOfCustomerApp />);
    </script>
</body>
</html><!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>고객의 소리(VOC) 설문</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <!-- Babel (JSX 변환용) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif; }
    </style>
</head>
<body class="bg-gray-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- 아이콘 컴포넌트 (Lucide React 대체) ---
        const IconBase = ({ children, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Stethoscope = ({ className }) => <IconBase className={className}><path d="M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3" /><path d="M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4" /><circle cx="20" cy="10" r="2" /></IconBase>;
        const User = ({ className }) => <IconBase className={className}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" /><circle cx="12" cy="7" r="4" /></IconBase>;
        const Calendar = ({ className }) => <IconBase className={className}><rect x="3" y="4" width="18" height="18" rx="2" ry="2" /><line x1="16" y1="2" x2="16" y2="6" /><line x1="8" y1="2" x2="8" y2="6" /><line x1="3" y1="10" x2="21" y2="10" /></IconBase>;
        const Activity = ({ className }) => <IconBase className={className}><polyline points="22 12 18 12 15 21 9 3 6 12 2 12" /></IconBase>;
        const Heart = ({ className }) => <IconBase className={className}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" /></IconBase>;
        const MessageSquare = ({ className }) => <IconBase className={className}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" /></IconBase>;
        const CheckCircle = ({ className }) => <IconBase className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" /><polyline points="22 4 12 14.01 9 11.01" /></IconBase>;
        const Building = ({ className }) => <IconBase className={className}><rect x="4" y="2" width="16" height="20" rx="2" ry="2" /><line x1="9" y1="22" x2="9" y2="12" /><line x1="15" y1="12" x2="15" y2="22" /><line x1="4" y1="12" x2="20" y2="12" /></IconBase>;

        // --- 메인 애플리케이션 ---
        const VoiceOfCustomerApp = () => {
            const [submitted, setSubmitted] = useState(false);
            const [formData, setFormData] = useState({
                // 기본 정보
                visitPurpose: '',
                visitType: '',
                visitChannel: '',
                painArea: [],
                respondentType: '',
                department: '',
                
                // 1. 접수/예약
                receptionConvenience: null,
                waitTimeAppropriate: null,
                painConsideration: null,
                receptionFeedback: '',

                // 2. 진료/수술
                doctorExplanation: null,
                testExplanation: null,
                trustLevel: null,
                painReduction: null,
                expectationMet: '', 
                expectationReason: '',
                treatmentFeedback: '',

                // 3. 간호/입원
                nurseAttitude: null,
                painResponseSpeed: null,
                rehabGuidance: null,
                dischargeGuidance: null,
                complimentStaff: '',

                // 4. 보호자
                guardianExplanation: null,
                visitationCare: null,
                guardianWaitingArea: null,

                // 5. 시설
                cleanliness: null,
                parkingAccess: null,

                // 종합
                overallSatisfaction: null, 
                npsScore: null, 
                revisitIntention: '', 
                revisitReason: ''
            });

            const handleInputChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            const handleMultiSelect = (field, value) => {
                setFormData(prev => {
                const current = prev[field] || [];
                if (current.includes(value)) {
                    return { ...prev, [field]: current.filter(item => item !== value) };
                } else {
                    return { ...prev, [field]: [...current, value] };
                }
                });
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                console.log("설문 데이터:", formData);
                // 실제 배포 시에는 여기에 fetch나 axios를 사용해 서버로 데이터를 전송합니다.
                
                // 전송 성공 시뮬레이션
                setTimeout(() => setSubmitted(true), 800);
            };

            if (submitted) {
                return (
                <div className="min-h-screen bg-teal-50 flex items-center justify-center p-4 font-sans">
                    <div className="bg-white p-8 rounded-2xl shadow-xl max-w-md w-full text-center">
                    <div className="w-20 h-20 bg-teal-100 rounded-full flex items-center justify-center mx-auto mb-6">
                        <CheckCircle className="w-10 h-10 text-teal-600" />
                    </div>
                    <h2 className="text-2xl font-bold text-gray-800 mb-2">소중한 의견 감사합니다</h2>
                    <p className="text-gray-600 mb-6">
                        고객님의 의견을 바탕으로<br />
                        더 나은 의료 서비스를 제공하겠습니다.
                    </p>
                    <button 
                        onClick={() => window.location.reload()}
                        className="bg-teal-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-teal-700 transition-colors w-full"
                    >
                        처음으로 돌아가기
                    </button>
                    </div>
                </div>
                );
            }

            // 재사용 가능한 컴포넌트들
            const SectionTitle = ({ icon: Icon, title, desc }) => (
                <div className="mb-6 border-b pb-4 border-gray-100">
                <div className="flex items-center gap-2 mb-1">
                    <Icon className="w-6 h-6 text-teal-600" />
                    <h3 className="text-xl font-bold text-gray-800">{title}</h3>
                </div>
                {desc && <p className="text-sm text-gray-500 ml-8">{desc}</p>}
                </div>
            );

            const RadioGroup = ({ label, field, options, gridCols = 2 }) => (
                <div className="mb-6">
                <label className="block text-sm font-semibold text-gray-700 mb-3">{label}</label>
                <div className={`grid grid-cols-${gridCols} gap-3`}>
                    {options.map((option) => (
                    <button
                        key={option}
                        type="button"
                        onClick={() => handleInputChange(field, option)}
                        className={`p-3 rounded-lg border text-sm font-medium transition-all ${
                        formData[field] === option
                            ? 'bg-teal-600 text-white border-teal-600 shadow-md'
                            : 'bg-white text-gray-600 border-gray-200 hover:bg-gray-50'
                        }`}
                    >
                        {option}
                    </button>
                    ))}
                </div>
                </div>
            );

            const CheckboxGroup = ({ label, field, options }) => (
                <div className="mb-6">
                <label className="block text-sm font-semibold text-gray-700 mb-3">{label} (중복 가능)</label>
                <div className="grid grid-cols-3 gap-3">
                    {options.map((option) => (
                    <button
                        key={option}
                        type="button"
                        onClick={() => handleMultiSelect(field, option)}
                        className={`p-3 rounded-lg border text-sm font-medium transition-all ${
                        formData[field]?.includes(option)
                            ? 'bg-teal-100 text-teal-800 border-teal-300'
                            : 'bg-white text-gray-600 border-gray-200 hover:bg-gray-50'
                        }`}
                    >
                        {option}
                    </button>
                    ))}
                </div>
                </div>
            );

            const LikertScale = ({ label, field, minText = "매우 불만", maxText = "매우 만족" }) => (
                <div className="mb-8 p-4 bg-gray-50 rounded-xl">
                <label className="block text-sm font-semibold text-gray-800 mb-4">{label}</label>
                <div className="flex justify-between items-center mb-2 px-1">
                    <span className="text-xs text-gray-500 font-medium">{minText}</span>
                    <span className="text-xs text-gray-500 font-medium">{maxText}</span>
                </div>
                <div className="flex justify-between gap-1">
                    {[1, 2, 3, 4, 5].map((score) => (
                    <button
                        key={score}
                        type="button"
                        onClick={() => handleInputChange(field, score)}
                        className={`flex-1 h-12 rounded-lg flex items-center justify-center text-lg font-bold transition-all ${
                        formData[field] === score
                            ? 'bg-teal-600 text-white shadow-lg scale-105'
                            : 'bg-white text-gray-400 border border-gray-200 hover:border-teal-300'
                        }`}
                    >
                        {score}
                    </button>
                    ))}
                </div>
                </div>
            );

            const TextArea = ({ label, field, placeholder }) => (
                <div className="mb-6">
                <label className="block text-sm font-semibold text-gray-700 mb-2">{label}</label>
                <textarea
                    value={formData[field]}
                    onChange={(e) => handleInputChange(field, e.target.value)}
                    placeholder={placeholder}
                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none min-h-[100px] text-sm resize-none"
                />
                </div>
            );

            return (
                <div className="min-h-screen bg-gray-100 py-8 px-4 font-sans">
                <div className="max-w-2xl mx-auto">
                    {/* Header */}
                    <header className="bg-white rounded-t-2xl p-8 border-b-4 border-teal-600 shadow-sm mb-6">
                    <h1 className="text-2xl font-bold text-gray-900 mb-2">고객의 소리(VOC) 설문</h1>
                    <p className="text-gray-600 text-sm leading-relaxed">
                        귀하의 소중한 의견은 더 나은 진료 환경을 만드는 데 큰 도움이 됩니다.<br/>
                        응답해주신 내용은 서비스 개선 자료로만 활용됩니다.
                    </p>
                    </header>

                    <form onSubmit={handleSubmit} className="space-y-6">
                    
                    {/* 기본 정보 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm">
                        <SectionTitle icon={User} title="기본 정보" desc="정확한 분석을 위해 선택해주세요." />
                        
                        <RadioGroup 
                        label="방문 목적" 
                        field="visitPurpose" 
                        options={["외래", "입원", "응급", "건강검진", "기타"]} 
                        gridCols={3}
                        />
                        <div className="grid grid-cols-2 gap-4">
                        <RadioGroup label="방문 형태" field="visitType" options={["처음방문", "재방문"]} gridCols={1} />
                        <RadioGroup label="응답자 유형" field="respondentType" options={["환자", "보호자"]} gridCols={1} />
                        </div>
                        
                        <RadioGroup 
                        label="병원 방문 경로" 
                        field="visitChannel" 
                        options={["지인 추천", "광고/홍보", "입소문", "인터넷 검색", "기타"]} 
                        gridCols={2}
                        />
                        
                        <CheckboxGroup 
                        label="통증 부위 (해당사항 모두 선택)" 
                        field="painArea" 
                        options={["허리", "무릎", "어깨", "손/손목", "발/발목", "목"]} 
                        />

                        <div className="mb-4">
                        <label className="block text-sm font-semibold text-gray-700 mb-2">방문 진료과</label>
                        <input 
                            type="text" 
                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none"
                            placeholder="예: 정형외과, 신경외과"
                            value={formData.department}
                            onChange={(e) => handleInputChange('department', e.target.value)}
                        />
                        </div>
                    </div>

                    {/* 1. 접수/예약 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm">
                        <SectionTitle icon={Calendar} title="접수·예약" desc="첫 신뢰 형성 단계" />
                        
                        <LikertScale label="① 예약 및 접수 과정이 편리했습니까?" field="receptionConvenience" minText="매우 불편" maxText="매우 편리" />
                        <LikertScale label="② 대기 시간은 적절했습니까?" field="waitTimeAppropriate" minText="매우 길다" maxText="매우 적절" />
                        <LikertScale label="③ 통증 환자에 대한 배려(의자, 안내 등)가 있었습니까?" field="painConsideration" minText="전혀 없음" maxText="매우 세심함" />
                        <TextArea label="④ 좋았던 점 / 개선이 필요한 점" field="receptionFeedback" placeholder="자유롭게 기술해주세요." />
                    </div>

                    {/* 2. 진료/수술 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm">
                        <SectionTitle icon={Stethoscope} title="진료·수술 설명" desc="전문성 및 안심 경험" />
                        
                        <LikertScale label="① 의사의 설명은 이해하기 쉬웠습니까?" field="doctorExplanation" minText="매우 어려움" maxText="매우 명확" />
                        <LikertScale label="② 검사 결과(MRI/X-ray) 설명은 충분했습니까?" field="testExplanation" minText="부족함" maxText="매우 충분" />
                        <LikertScale label="③ 수술/치료 계획에 대한 신뢰도가 높았습니까?" field="trustLevel" minText="신뢰 어려움" maxText="매우 신뢰" />
                        <LikertScale label="④ 치료 후 통증 감소를 체감하셨습니까?" field="painReduction" minText="전혀 없음" maxText="매우 개선됨" />
                        
                        <div className="mb-6 p-4 bg-teal-50 rounded-xl">
                        <label className="block text-sm font-semibold text-gray-800 mb-3">⑤ 이번 치료가 기대에 부합했습니까?</label>
                        <div className="flex gap-4 mb-3">
                            {['예', '아니오'].map(opt => (
                            <button
                                key={opt}
                                type="button"
                                onClick={() => handleInputChange('expectationMet', opt)}
                                className={`flex-1 py-2 rounded-lg border ${formData.expectationMet === opt ? 'bg-teal-600 text-white border-teal-600' : 'bg-white text-gray-700 border-gray-300'}`}
                            >
                                {opt}
                            </button>
                            ))}
                        </div>
                        <input 
                            type="text" 
                            placeholder="이유를 간단히 적어주세요"
                            className="w-full p-2 border border-gray-300 rounded-md text-sm"
                            value={formData.expectationReason}
                            onChange={(e) => handleInputChange('expectationReason', e.target.value)}
                        />
                        </div>

                        <TextArea label="⑥ 인상 깊었던 점 / 실망한 점" field="treatmentFeedback" placeholder="구체적인 경험을 들려주세요." />
                    </div>

                    {/* 3. 간호/입원 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm">
                        <SectionTitle icon={Heart} title="간호·입원·재활" desc="회복 경험" />
                        
                        <LikertScale label="① 간호사의 태도와 배려는 어떠했습니까?" field="nurseAttitude" minText="무성의함" maxText="가족처럼 따뜻함" />
                        <LikertScale label="② 통증 관리에 대한 대응은 신속했습니까?" field="painResponseSpeed" minText="매우 느림" maxText="매우 신속" />
                        <LikertScale label="③ 재활·물리치료 안내는 체계적이었습니까?" field="rehabGuidance" minText="매우 부족" maxText="매우 체계적" />
                        <LikertScale label="④ 퇴원 후 관리 안내는 충분했습니까?" field="dischargeGuidance" minText="부족함" maxText="매우 충분" />
                        <TextArea label="⑤ 칭찬하고 싶은 직원/부서" field="complimentStaff" placeholder="이름 또는 부서를 적어주세요." />
                    </div>

                    {/* 4. 보호자 경험 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm">
                        <SectionTitle icon={User} title="보호자 경험" desc="보호자 만족도" />
                        
                        <LikertScale label="① 보호자에 대한 안내 및 설명은 충분했습니까?" field="guardianExplanation" minText="매우 부족" maxText="매우 충분" />
                        <LikertScale label="② 면회 및 상담 과정에서 배려받았습니까?" field="visitationCare" minText="불편함" maxText="매우 배려 깊음" />
                        <LikertScale label="③ 보호자 대기 공간은 편리했습니까?" field="guardianWaitingArea" minText="매우 불편" maxText="매우 편리" />
                    </div>

                    {/* 5. 시설/편의 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm">
                        <SectionTitle icon={Building} title="시설·편의" />
                        
                        <LikertScale label="① 병실 청결 및 시설 상태" field="cleanliness" minText="매우 불량" maxText="매우 청결" />
                        <LikertScale label="② 주차 및 병원 접근성" field="parkingAccess" minText="매우 불편" maxText="매우 편리" />
                    </div>

                    {/* 종합 평가 */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm border-2 border-teal-100">
                        <SectionTitle icon={Activity} title="종합 평가" desc="최종 만족도 조사" />
                        
                        <div className="mb-8">
                        <label className="block text-sm font-bold text-gray-800 mb-4">① 전체적인 만족도를 점수로 평가해주세요 (10점 만점)</label>
                        <div className="flex justify-between gap-1 overflow-x-auto pb-2">
                            {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((score) => (
                            <button
                                key={score}
                                type="button"
                                onClick={() => handleInputChange('overallSatisfaction', score)}
                                className={`flex-shrink-0 w-8 h-10 sm:w-10 sm:h-12 rounded-md flex items-center justify-center text-sm sm:text-lg font-bold transition-all ${
                                formData.overallSatisfaction === score
                                    ? 'bg-teal-600 text-white shadow-lg -translate-y-1'
                                    : 'bg-white text-gray-500 border border-gray-200 hover:bg-teal-50'
                                }`}
                            >
                                {score}
                            </button>
                            ))}
                        </div>
                        </div>

                        <div className="mb-8">
                        <label className="block text-sm font-bold text-gray-800 mb-4">② 이 병원을 주변 지인에게 추천하시겠습니까? (NPS)</label>
                        <div className="flex justify-between gap-1 overflow-x-auto pb-2">
                            {[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((score) => (
                            <button
                                key={score}
                                type="button"
                                onClick={() => handleInputChange('npsScore', score)}
                                className={`flex-shrink-0 w-8 h-10 sm:w-10 sm:h-12 rounded-md flex items-center justify-center text-sm sm:text-lg font-bold transition-all ${
                                formData.npsScore === score
                                    ? 'bg-blue-600 text-white shadow-lg -translate-y-1'
                                    : 'bg-white text-gray-500 border border-gray-200 hover:bg-blue-50'
                                }`}
                            >
                                {score}
                            </button>
                            ))}
                        </div>
                        <div className="flex justify-between text-xs text-gray-400 mt-1 px-1">
                            <span>절대 추천 안함</span>
                            <span>적극 추천</span>
                        </div>
                        </div>

                        <div className="mb-4">
                        <label className="block text-sm font-bold text-gray-800 mb-3">③ 향후 다시 방문할 의향이 있으십니까?</label>
                        <div className="flex gap-4 mb-3">
                            {['예', '아니오'].map(opt => (
                            <button
                                key={opt}
                                type="button"
                                onClick={() => handleInputChange('revisitIntention', opt)}
                                className={`flex-1 py-3 rounded-lg border font-medium ${formData.revisitIntention === opt ? 'bg-teal-600 text-white border-teal-600' : 'bg-white text-gray-700 border-gray-300'}`}
                            >
                                {opt}
                            </button>
                            ))}
                        </div>
                        <input 
                            type="text" 
                            placeholder="이유를 간단히 적어주세요 (선택사항)"
                            className="w-full p-3 border border-gray-300 rounded-lg text-sm"
                            value={formData.revisitReason}
                            onChange={(e) => handleInputChange('revisitReason', e.target.value)}
                        />
                        </div>
                    </div>

                    <button
                        type="submit"
                        className="w-full bg-teal-700 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:bg-teal-800 transition-colors flex items-center justify-center gap-2"
                    >
                        <MessageSquare className="w-5 h-5" />
                        설문 제출하기
                    </button>
                    </form>
                </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<VoiceOfCustomerApp />);
    </script>
</body>
</html>